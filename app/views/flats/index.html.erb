<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h1>All our Flats</h1>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <% if params[:query] %>
        <p>We found <%= @flats.count %> flat(s) out of <%= Flat.all.count %></p>
      <% else %>
        <p>All <%= @flats.count %> flats</p>
      <% end -%>
    </div>
  </div>
  <div class="row">
    <% @flats.each do |flat| %>
      <div class="col-8 col-sm-6 col-lg-4 d-flex align-items-stretch">
        <div class="flat-card">
            <div class="flat-card-image" style="background-image: url('<%= flat.flat_url.nil? || flat.flat_url.empty? ? "https://source.unsplash.com/random?sig=#{rand(1..1000)}" : flat.flat_url %>')"></div>
            <div class="flat-card-content">
              <div class="flat-card-title">
                <h4><%= flat.name %></h4>
              </div>
              <p><%= flat.address %></p>
              <div class="d-flex">
                <div class="">
                  <i class="fas fa-user-friends mr-2"></i><span><%= flat.number_of_guests %></span>
                </div>
                <div class="ml-3">
                  <i class="fas fa-euro-sign mr-2"></i> <%= flat.price_per_night %>
                </div>
              </div>
            </div>
            <div class="flat-card-actions d-flex justify-content-center">
              <%= link_to 'More info', flat_path(flat), class: 'btn btn-outline-primary' %>
              <%= link_to 'Edit', edit_flat_path(flat), class: 'btn btn-outline-warning ml-3' %>
              <%= link_to 'Remove', flat_path(flat), method: :delete, data: { confirm: "Are you sure?" }, class: 'btn btn-outline-danger ml-3' %>
            </div>
          </div>
      </div>
    <% end -%>
  </div>
</div>
<script>

  // $('#city-input').select2({ width: '50%', theme: 'bootstrap4' });

</script>
